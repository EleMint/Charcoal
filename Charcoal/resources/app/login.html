<!DOCTYPE html>
<html>
    <head>
        <title>Login</title>
        <link rel="stylesheet" href="css/styles.css"/>
    </head>
<body>

    <h2 class="center">Modal Login Form</h2>

    <div class="center">
        <button onclick="document.getElementById('modal').style.display='block'" style="width:auto;">Login</button>
    </div>
    <div id="modal" class="modal">
  
        <form class="modal-content animate" action="/action_page.php">
            <div class="imgcontainer">
                <span onclick="document.getElementById('modal').style.display='none'" class="close" title="Close Modal">&times;</span>
            </div>

            <div class="container">
                <label for="uname"><b>Username</b></label>
                <input id="uname" type="text" placeholder="Enter Username" name="uname" required>

                <label for="psw"><b>Password</b></label>
                <input id="password" type="password" placeholder="Enter Password" name="psw" required>
        
                <button type="submit">Login</button>
                <label>
                    <input type="checkbox" checked="checked" name="remember"> Remember me
                </label>
            </div>

            <div class="container" style="background-color:#f1f1f1">
                <button id="modalSubmit" type="button" onclick="document.getElementById('modal').style.display='none'" class="cancelbtn">Cancel</button>
                <span class="psw">Forgot <a href="forgotPassword.html">password?</a></span>
            </div>
        </form>
    </div>
<script>
    const electron = require('electron');
    const {ipcRenderer} = electron;

    var modal = document.getElementById('modal');
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    const form = document.querySelector('form');
    form.addEventListener('submit', submitForm);

    function submitForm(e){
        e.preventDefault();
        const userName = document.querySelector('#uname').value;
        const password = document.querySelector('#password').value;
        icpRenderer.send('user:login', userName, password);
    }

</script>

</body>
</html>